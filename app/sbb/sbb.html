<md-content class="md-padding" layout="column" flex="100">

  <input type="text" ng-model="vm.from" placeholder="Von" />
  <input type="text" ng-model="vm.to" placeholder="Nach" />
  <button type="button" ng-click="vm.search()">Suchen...</button>

  <h2 ng-if="vm.from && vm.to">{{vm.from}} - {{vm.to}}</h2>

  <div ng-if="vm.loaded">
    <div ng-repeat="connection in vm.data.connections" layout="column">
      <div ng-if="$first" layout="row">
        <div>{{connection.from.station.name}} - {{connection.to.station.name}}</div>
      </div>
      <div layout="column" flex>
        <div ng-if="$first" layout="row" flex="100">
          <div flex="25">Abfahrt</div>
          <div flex="25">Gleis</div>
          <div flex="25">Ankunft</div>
          <div flex="25">Gleis</div>
        </div>
        <div layout="row" flex="100">
          <div flex="25">{{connection.from.departureTimestamp * 1000 | date : 'HH:mm'}} {{vm.getDelayString(connection.from.delay)}}</div>
          <div flex="25">{{connection.from.platform}}</div>
          <div flex="25">{{connection.to.arrivalTimestamp * 1000 | date : 'HH:mm'}} {{vm.getDelayString(connection.to.delay)}}</div>
          <div flex="25">{{connection.to.platform}}</div>
        </div>
      </div>
    </div>
  </div>
  <div ng-if="!vm.loaded">
    <md-progress-circular md-mode="indeterminate" md-diameter="150"></md-progress-circular>
  </div>
</md-content>